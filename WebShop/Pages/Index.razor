@page "/"

<TopCategories/>
<Carousel Carousels="Carousels" Title="NEW PRODUCTS" />
<HotDeal/>
<Carousel Carousels="Carousels" Title="BEST SELLER" />
<WidgetSlick/>

@code
{
    [Inject]
    public IJSRuntime JS { get; set; } = null!;
    [Inject]
    public IApiService ApiService { get; set; } = null!;
    public List<CarouselVM> Carousels { get; set; } = new();

    protected override async Task OnInitializedAsync()
    {
        await ApiService.GetProductsAsync();

        Carousels = await ApiService.GetCarouselTopSelling(4, 8);
    }

    //protected override async Task OnAfterRenderAsync(bool firstRender)
    //{
    //    Carousels = await ApiService.GetCarouselTopSelling(4, 8);
    //}
}