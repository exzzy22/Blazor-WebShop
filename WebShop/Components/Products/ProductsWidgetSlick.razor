@using ApiServices;
@using ViewModels;
<div class="col-md-4 col-xs-6">
	<div class="section-title">
		<h4 class="title">Top selling</h4>
		<div class="section-nav">
			<div id="slick-nav-@_id" class="products-slick-nav"></div>
		</div>
	</div>

	<div class="products-widget-slick" data-nav="#slick-nav-@_id">
		<div>
			<!-- product widget -->
			<div class="product-widget">
				<div class="product-img">
					<img src="./img/product07.png" alt="">
				</div>
				<div class="product-body">
					<p class="product-category">Category</p>
					<h3 class="product-name"><a href="#">product name goes here</a></h3>
					<h4 class="product-price">$980.00 <del class="product-old-price">$990.00</del></h4>
				</div>
			</div>
			<!-- /product widget -->
			<!-- product widget -->
			<div class="product-widget">
				<div class="product-img">
					<img src="./img/product08.png" alt="">
				</div>
				<div class="product-body">
					<p class="product-category">Category</p>
					<h3 class="product-name"><a href="#">product name goes here</a></h3>
					<h4 class="product-price">$980.00 <del class="product-old-price">$990.00</del></h4>
				</div>
			</div>
			<!-- /product widget -->
			<!-- product widget -->
			<div class="product-widget">
				<div class="product-img">
					<img src="./img/product09.png" alt="">
				</div>
				<div class="product-body">
					<p class="product-category">Category</p>
					<h3 class="product-name"><a href="#">product name goes here</a></h3>
					<h4 class="product-price">$980.00 <del class="product-old-price">$990.00</del></h4>
				</div>
			</div>
			<!-- product widget -->
		</div>

		<div>
			<!-- product widget -->
			<div class="product-widget">
				<div class="product-img">
					<img src="./img/product01.png" alt="">
				</div>
				<div class="product-body">
					<p class="product-category">Category</p>
					<h3 class="product-name"><a href="#">product name goes here</a></h3>
					<h4 class="product-price">$980.00 <del class="product-old-price">$990.00</del></h4>
				</div>
			</div>
			<!-- /product widget -->
			<!-- product widget -->
			<div class="product-widget">
				<div class="product-img">
					<img src="./img/product02.png" alt="">
				</div>
				<div class="product-body">
					<p class="product-category">Category</p>
					<h3 class="product-name"><a href="#">product name goes here</a></h3>
					<h4 class="product-price">$980.00 <del class="product-old-price">$990.00</del></h4>
				</div>
			</div>
			<!-- /product widget -->
			<!-- product widget -->
			<div class="product-widget">
				<div class="product-img">
					<img src="./img/product03.png" alt="">
				</div>
				<div class="product-body">
					<p class="product-category">Category</p>
					<h3 class="product-name"><a href="#">product name goes here</a></h3>
					<h4 class="product-price">$980.00 <del class="product-old-price">$990.00</del></h4>
				</div>
			</div>
			<!-- product widget -->
		</div>
	</div>
</div>


@code {
	string _id = "";

	[Inject]
	IJSRuntime JS { get; set; } = null!;
	[Inject]
	IApiService ApiService { get; set; } = null!;

	protected override async Task OnInitializedAsync()
	{
		_id = Guid.NewGuid().ToString();
		CarouselVM prod = await ApiService.GetCarouselTopSelling(8, 2);
	}

	protected override void OnAfterRender(bool firstRender)
	{
		if (firstRender)
		{
			JS.InvokeVoidAsync("ProductsWidgetSlick");
		}
	}

}
